<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin-top: 50px;
            font-family: Arial, sans-serif !important;
            color: #fff !important;
            /* 背景圖 */
            background-image: url("images/background1.jpg") !important;
            background-size: cover;
            background-repeat: no-repeat; 
            background-position: center;
        }

        .header {
            text-align: center;
            padding: 3px;
            background-color: #f2f2f2;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr 1fr;
            gap: 10px;
            height: 80vh;
            margin-top: 2%;
        }

        .box {
            border: 2px dashed black;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative; /* 為卡片的絕對定位提供參考 */
            min-height: 100px; /* 設置最小高度以便拖放 */
        }

        .center {
            border: 2px solid black;
            grid-column: 2 / span 2;
            grid-row: 2 / span 2;
            align-items:end;
            padding:5px;
            min-height:35vh;
        }

        .bottom {
            display: flex;
            flex-wrap: wrap; /* 允許內容換行 */
            border: 2px dashed rgb(134, 9, 3);
            grid-column: 1 / span 4;
            min-height: 150px; /* 最小高度 */
            position: relative;
            align-items: center;
            justify-content: center;
            padding: 10px; /* 內間距，確保內容不緊貼邊界 */
            gap: 10px; /* 卡片之間的間距 */
        }

        .card {
            position: absolute; /* 絕對定位 */
            cursor: grab;
            transition: transform 0.3s, width 0.3s, height 0.3s, z-index 0.3s;
            border: 2px solid #000;
            box-sizing: border-box;
            /*擺上卡背圖*/
            /*background-image: url("cardback.png");*/
            background-size: cover;
            background-repeat: no-repeat; 
            background-position: center;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        .card-front {
			/*background-image: url("cardface.png");*/
            background-size: cover;
            background-repeat: no-repeat; 
            background-position: center;
            /*background-color: #fff;*/
            background-blend-mode: multiply; /* 或 screen，根據你想要的效果 */
            background-color: rgba(128, 128, 128, 0.5); /* 半透明的灰色 */
            color: #fff;
            font-size: 15px;
        }

        .card-back {
            /*background-color: #333;*/
            color: white;
            transform: rotateY(180deg);
            font-size: 15px;
        }

        .card-inner.is-flipped {
            transform: rotateY(180deg);
        }

        .card-number {
            position: absolute;
            top: 0;
            left: 0;
            color: #E0E0E0;
            font-size: 24px;
            font-weight: bold;
            margin: 4px;
        }

        /* 調整回合 區塊 */
        .round-display {
            grid-column: 1 / span 4;
            text-align: center;
            font-size: 24px;
            color: #fff;
        }

        .hidden-front {
            display: none;
        }

        .card.is-clicked {
            transform: translateY(-10px); /* 向上移動 10px */
            z-index: 10; /* 提升 z-index 以確保卡片在頂層 */
        }

        h1 {
            margin: 5px;
        }

        .forbidden-drop {
            cursor: not-allowed;
        }

        .center-text {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-sizing: border-box; /* 確保 padding 和 border 不會影響元素的總大小 */
        }

        .textareaContent {
            font-size: 20px;
            padding: 5px;
            border: 2px solid #ccc;
            border-radius: 5px;
            resize: none;
            width: 100%;
            height: 100%; /* 調整高度以適應 RWD */
            box-sizing: border-box; /* 確保 padding 和 border 不會影響元素的總大小 */
        }

        .center .card {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .modal-title{
            color: #000; /* 設置文字顏色為黑色 */
        }

        .modal-body p {
            color: #000; /* 設置文字顏色為黑色 */
        }

        /* 用法說明的 寬度 */
        .modal-dialog {
            max-width: 80% !important; /* 設置模態框寬度為 80% */
        }

        /* 用於隱藏卡片 */
        .card[style*="opacity: 0"] {
            visibility: hidden;
        }

        .bottom_button_area {
            display: flex;
            flex-wrap: wrap; /* 允許內容換行 */
            grid-column: 1 / span 4;
            position: relative;
            align-items: center;
            justify-content: center;
            padding: 10px; /* 內間距，確保內容不緊貼邊界 */
            gap: 10px;
        }

    </style>
    <!--Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>小教室</title>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="box" @dragover.prevent="dragOver('1')" @drop="dropCard('1')" @click="boxClickSelectCard('1')"><span style="font-size: 2em;">巳</span>
                <div v-for="(card, index) in cardsInBox('1')" :key="card.id" class="card" :style="cardStyle(card, index, '1')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('2')" @drop="dropCard('2')" @click="boxClickSelectCard('2')"><span style="font-size: 2em;">午</span>
                <div v-for="(card, index) in cardsInBox('2')" :key="card.id" class="card" :style="cardStyle(card, index, '2')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('3')" @drop="dropCard('3')" @click="boxClickSelectCard('3')"><span style="font-size: 2em;">未</span>
                <div v-for="(card, index) in cardsInBox('3')" :key="card.id" class="card" :style="cardStyle(card, index, '3')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('4')" @drop="dropCard('4')" @click="boxClickSelectCard('4')"><span style="font-size: 2em;">申</span>
                <div v-for="(card, index) in cardsInBox('4')" :key="card.id" class="card" :style="cardStyle(card, index, '4')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('5')" @drop="dropCard('5')" @click="boxClickSelectCard('5')"><span style="font-size: 2em;">辰</span>
                <div v-for="(card, index) in cardsInBox('5')" :key="card.id" class="card" :style="cardStyle(card, index, '5')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box center" @dragover.prevent="dragOver('center')" @drop="dropCard('center')"  @click="boxClickSelectCard('center')">
                <div class="center-text">
                    <div style="display: flex;margin: 5px;">
                        <!-- Left side buttons -->
                        <div style="display: flex;">
                            <!-- Button trigger modal : https://bootstrap5.hexschool.com/docs/5.0/components/buttons/ -->
                            <button type="button" class="btn btn-outline-danger" style="margin-right: 10px;" data-bs-toggle="modal" data-bs-target="#DirectionsModal" @click.stop>規則說明</button>
                            <button type="button" class="btn btn-outline-info" style="margin-right: 10px;" data-bs-toggle="modal" data-bs-target="#CardsModal" @click.stop>抽牌說明</button>
                            <button type="button" class="btn btn-outline-warning" style="margin-right: 10px;" data-bs-toggle="modal" data-bs-target="#AllLinkModalLabel" @click.stop>連結資訊</button>
                        </div>
                        <!-- Right side time block -->
                        <div style="margin-left: auto; font-weight: bold;">目前時間 : {{ currentTime }}</div>
                    </div>
                    <div style="display: flex; margin-bottom: 10px; width: 100%; max-width: 100%;" @click.stop>
                        <select class="form-select" style="width: 30%; margin-right: 10px;" v-model="gender">
                            <option value="" hidden>性別</option>
                            <option value="男">男</option>
                            <option value="女">女</option>
                        </select>
                        <input type="text" class="form-control" style="width: 40%; margin-right: 10px;" v-model="cus_name" placeholder="姓名">
                        <select id="selectSubject" ref="selectSubject" class="form-select" style="width: 30%;">
                            <option value="" hidden>主題</option>
                            <option value="工作">工作</option>
                            <option value="感情">感情</option>
                            <option value="財運">財運</option>
                            <option value="其他">其他</option>
                        </select>
                    </div>
                    <textarea id="textareaContent" ref="textareaContent" name="textareaContent" class="textareaContent mt-1" required placeholder="問題描述，請詳述說明人、事、時。" @click.stop ></textarea>
                    <div style="display: flex;margin-top: 10px;">
                        <button type="button" class="btn btn-primary" style="margin-right: 10px;" @click="SubmitText()" @click.stop>確認</button>
                        <button type="button" class="btn btn-primary" style="margin-right: 10px;" @click="ModifySubmitText()" @click.stop>編輯</button>
                    </div>
                    <!-- Modal -->
                    <!-- 規則說明 -->
                    <div class="modal fade" id="DirectionsModal" tabindex="-1" aria-labelledby="DirectionsModalLabel" aria-hidden="true" @click.stop>
                        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h5 class="modal-title" id="DirectionsModalLabel">規則說明</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click.stop></button>
                            </div>
                            <div class="modal-body">
                                <P>1. 每一組牌只能問一個問題。如要問衍生問題，或其他問題，要再抽一組牌。</P>
                                <P>2. 問題務必「清楚精準」，最好設定明確時間。Ex:我XXX"三個月內"會不會有好桃花？我XXX"半年內"是否有升遷的可能？</P>
                                <P>3. 如果占問的事情有了結果，請不吝給予回饋（無論好壞，或是後續發展的回饋，讓我能隨時修正或是更加精進算牌技術。）</P>
                                <P>4. 健康、失物、賭博、代問，將不予回答。</P>
                                <P>5. 不清楚不明確的問題，也將不予回答。</P>
                                <P>6. 出國唸書和遊學打工，要先設定國家再問。</P>
                                <P>7. 提問之前，自己最好先有想法，結果會更為精確。</P>
                                <P>例如：</P>
                                <P>●我XXX想知道是否可以在十月底前賣掉房子？</P>
                                <P>●我XXX是否可以在三個月內和XXX發展感情？</P>
                                <P>●我XXX在七月有XXX的考試，想知道考運如何？</P>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click.stop>Close</button>
                            </div>
                        </div>
                        </div>
                    </div>
                    <!-- 抽牌說明 -->
					<div class="modal fade" id="CardsModal" tabindex="-1" aria-labelledby="CardsModal" aria-hidden="true" @click.stop>
                        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h5 class="modal-title" id="CardsModal">抽牌說明</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" @click.stop></button>
                            </div>
                            <div class="modal-body">
                                <P>1. 總共4副牌，共抽8張牌。</P>
                                <P>2. 第1輪共14張，抽2張，並選12宮位則一放。如1放酉，8放亥。</P>
                                <P>3. 卡片放置位置可以重覆。</P>
                                <P>4. 第2輪共14張，抽2張，並選12宮位則一放，與第1輪相同。如3放酉，12放申。</P>
								<P>5. 第3輪共32張，抽3張，並選12宮位則一放，放置位置可以重覆，與前二輪相同。</P>
								<P>6. 最後1輪‧，數字1-12擇1即可。</P>
								<P></P>
								<P></P>
								<P></P>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click.stop>Close</button>
                            </div>
                        </div>
                        </div>
                    </div>

                    <!-- 連結資訊 -->
                    <div class="modal fade" id="AllLinkModalLabel" tabindex="-1" aria-labelledby="AllLinkModalLabel" aria-hidden="true" @click.stop>
                        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h5 class="modal-title" id="AllLinkModalLabel">連結資訊</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
							<div class="modal-body" style="text-align:center;">
								<div style="display: flex; justify-content: space-around;">
                                    <!-- 問卷區塊 -->
                                    <div style="text-align: center;">
                                        <p>問卷</p>
                                        <a href="https://forms.gle/LcBrCzUvLagm7R5Z8" target="_blank">
                                            <img src="images/feedbackQR.jpg" alt="問卷連結">
                                        </a>
                                    </div>
                                
                                    <!-- 好友＠0區塊 -->
                                    <div style="text-align: center;">
                                        <p>好友＠035huiof</p>
                                        <a href="https://lin.ee/seLphIC" target="_blank">
                                            <img src="images/@035huiof.png" alt="好友">
                                        </a>
                                    </div>
                                
                                    <!-- 社群區塊 -->
                                    <div style="text-align: center;">
                                        <p>社群</p>
                                        <a href="https://line.me/ti/g2/1DKrqd7y118-txklw0DKV0XkdIqBmLKTDIiu8A?utm_source=invitation&utm_medium=link_copy&utm_campaign=default" target="_blank">
                                            <img src="images/LINEgroup.jpg" alt="社群" border="0" height=339 width=336>
                                        </a>
                                    </div>
                                </div>
							</div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">關閉</button>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
                <div v-for="(card, index) in cardsInBox('center')" :key="card.id" class="card" :style="cardStyle(card, index, 'center')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('6')" @drop="dropCard('6')" @click="boxClickSelectCard('6')"><span style="font-size: 2em;">酉</span>
                <div v-for="(card, index) in cardsInBox('6')" :key="card.id" class="card" :style="cardStyle(card, index, '6')" draggable="false" @dragstart="dragCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('7')" @drop="dropCard('7')" @click="boxClickSelectCard('7')"><span style="font-size: 2em;">卯</span>
                <div v-for="(card, index) in cardsInBox('7')" :key="card.id" class="card" :style="cardStyle(card, index, '7')" draggable="false" @dragstart="dragCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('8')" @drop="dropCard('8')" @click="boxClickSelectCard('8')"><span style="font-size: 2em;">戌</span>
                <div v-for="(card, index) in cardsInBox('8')" :key="card.id" class="card" :style="cardStyle(card, index, '8')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('9')" @drop="dropCard('9')" @click="boxClickSelectCard('9')"><span style="font-size: 2em;">寅</span>
                <div v-for="(card, index) in cardsInBox('9')" :key="card.id" class="card" :style="cardStyle(card, index, '9')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('10')" @drop="dropCard('10')" @click="boxClickSelectCard('10')"><span style="font-size: 2em;">丑</span>
                <div v-for="(card, index) in cardsInBox('10')" :key="card.id" class="card" :style="cardStyle(card, index, '10')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('11')" @drop="dropCard('11')" @click="boxClickSelectCard('11')"><span style="font-size: 2em;">子</span>
                <div v-for="(card, index) in cardsInBox('11')" :key="card.id" class="card" :style="cardStyle(card, index, '11')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="box" @dragover.prevent="dragOver('12')" @drop="dropCard('12')" @click="boxClickSelectCard('12')"><span style="font-size: 2em;">亥</span>
                <div v-for="(card, index) in cardsInBox('12')" :key="card.id" class="card" :style="cardStyle(card, index, '12')" draggable="false" @dragstart="dragCard(card)" @click="flipCard(card)">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <h1>{{ card.backText }}</h1>
                        </div>
                    </div>
                    <div class="card-number">{{ card.number }}</div>
                </div>
            </div>
            <div class="bottom" :style="{ minHeight: area_grid_heigh + 'px' }">
                <div v-for="(card, index) in cardsInBox('bottom')" :key="card.id" class="card" :style="bottomCardStyle(card, index)" draggable="true" @dragstart="dragCard(card)" @click="clickCard(card)" :class="{ 'is-clicked': card.isClicked }">
                    <div class="card-inner" :class="{ 'is-flipped': card.isFlipped }">
                        <div class="card-front" :class="{ 'hidden-front': card.isDragging }" :style="cardBgStyle(card,'front')">
                            <h1>{{ card.frontText }}</h1>
                        </div>
                        <div class="card-back" :style="cardBgStyle(card,'back')">
                            <!--<h1>{{ card.backText }}</h1>-->
                        </div>
                    </div>
                    <div class="card-number" style="color:#730083;">{{card.number}}</div>
                </div>
            </div>
            <div class="round-display">
                {{ roundStatus }}
            </div>
            <div class="bottom_button_area" v-show="isExplorerNowVisible">
                <span><button type="button" class="btn btn-primary" style="margin-right: 10px;" @click="explorerNow()">匯出本次操作紀錄</button></span>
                <span><button type="button" class="btn btn-primary" style="margin-right: 10px;" @click="refreshPage()">再抽一次</button></span>
            </div>
        </div>
    </div>
    <!-- Vue3 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.4.27/dist/vue.global.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>

        const { createApp, ref, onMounted } = Vue;

        createApp({
            setup() {

                // 定義卡片數據
                const cards = ref([]);
                // 用於生成卡片的唯一 ID
                const cardIndex = ref(0);
                // 當前回合
                const currentRound = ref(0);
                // 拖曳計數
                const draggedCount = ref(0);
                // 選取計數
                const isClickedCount = ref(0);
                // 丟到 center 區域的卡片序號
                const dropIndex = ref(0);
                // 回合狀態
                const roundStatus = ref("Prepare for round 1");
                // 拖曳的卡片
                const draggingCard = ref(null);
                // 是否顯示 explorerNow 按鈕
                const isExplorerNowVisible = ref(false);

                //選取類型
                const selectSubject = ref(null);
                //問題描述
                const textareaContent = ref(null);

                const gender = ref('');
                const cus_name = ref('');

                const area_grid_heigh = ref(0); // 初始高度設置為 150px

                // 各自代表的區域
                const locations = {
                    '1': '巳',
                    '2': '午',
                    '3': '未',
                    '4': '申',
                    '5': '辰',
                    '6': '酉',
                    '7': '卯',
                    '8': '戌',
                    '9': '寅',
                    '10': '丑',
                    '11': '子',
                    '12': '亥',
                    'center': '中心區域'
                };

                const rounds = [
                    { area_grid_heigh:"150", card_back_background_image:"images/back3.jpg", card_face_background_image:"images/face10.jpg", totalCards: 14, drawCount: 2, texts: [{ "front": "紫微", "back": "主星" }, 
                                                            { "front": "天機", "back": "主星" }, 
                                                            { "front": "太陽", "back": "主星" }, 
                                                            { "front": "武曲", "back": "主星" },
                                                            { "front": "天同", "back": "主星" }, 
                                                            { "front": "廉貞", "back": "主星" }, 
                                                            { "front": "天府", "back": "主星" }, 
                                                            { "front": "太陰", "back": "主星" },
                                                            { "front": "貪狼", "back": "主星" }, 
                                                            { "front": "巨門", "back": "主星" }, 
                                                            { "front": "天相", "back": "主星" }, 
                                                            { "front": "天梁", "back": "主星" },
                                                            { "front": "七殺", "back": "主星" }, 
                                                            { "front": "破軍", "back": "主星" }
                                                            ]},
                    { area_grid_heigh:"150", card_back_background_image:"images/back2.jpg", card_face_background_image:"images/face16.jpg", totalCards: 14, drawCount: 2, texts: [{ "front": "文昌", "back": "副星" }, 
                                                            { "front": "文曲", "back": "副星" }, 
                                                            { "front": "左輔", "back": "副星" }, 
                                                            { "front": "右弼", "back": "副星" },
                                                            { "front": "天魁", "back": "副星" }, 
                                                            { "front": "天鉞", "back": "副星" }, 
                                                            { "front": "地空", "back": "副星" }, 
                                                            { "front": "地劫", "back": "副星" },
                                                            { "front": "火星", "back": "副星" }, 
                                                            { "front": "鈴星", "back": "副星" }, 
                                                            { "front": "擎羊", "back": "副星" }, 
                                                            { "front": "陀羅", "back": "副星" },
                                                            { "front": "天馬", "back": "副星" }, 
                                                            { "front": "祿存", "back": "副星" }
                                                        ]},
                    { area_grid_heigh:"250", card_back_background_image:"images/back1.jpg", card_face_background_image:"images/face17.jpg", totalCards: 32, drawCount: 3, texts: [{ "front": "天官", "back": "乙級星" },
                                                            { "front": "天福", "back": "乙級星" },
                                                            { "front": "天廚", "back": "乙級星" },
                                                            { "front": "天刑", "back": "乙級星" },
                                                            { "front": "天姚", "back": "乙級星" },
                                                            { "front": "解神", "back": "乙級星" },
                                                            { "front": "天巫", "back": "乙級星" },
                                                            { "front": "天月", "back": "乙級星" },
                                                            { "front": "陰煞", "back": "乙級星" },
                                                            { "front": "台輔", "back": "乙級星" },
                                                            { "front": "封誥", "back": "乙級星" },
                                                            { "front": "天空", "back": "乙級星" },
                                                            { "front": "天哭", "back": "乙級星" },
                                                            { "front": "天虛", "back": "乙級星" },
                                                            { "front": "龍池", "back": "乙級星" },
                                                            { "front": "鳳閣", "back": "乙級星" },
                                                            { "front": "紅鸞", "back": "乙級星" },
                                                            { "front": "天喜", "back": "乙級星" },
                                                            { "front": "孤辰", "back": "乙級星" },
                                                            { "front": "寡宿", "back": "乙級星" },
                                                            { "front": "蜚廉", "back": "乙級星" },
                                                            { "front": "破碎", "back": "乙級星" },
                                                            { "front": "華蓋", "back": "乙級星" },
                                                            { "front": "咸池", "back": "乙級星" },
                                                            { "front": "天德", "back": "乙級星" },
                                                            { "front": "月德", "back": "乙級星" },
                                                            { "front": "天才", "back": "乙級星" },
                                                            { "front": "天壽", "back": "乙級星" },
                                                            { "front": "三台", "back": "乙級星" },
                                                            { "front": "八座", "back": "乙級星" },
                                                            { "front": "恩光", "back": "乙級星" },
                                                            { "front": "天貴", "back": "乙級星" }
                                                            ]},
                    { area_grid_heigh:"150", card_back_background_image:"images/back4.jpg", card_face_background_image:"images/face9.jpg", totalCards: 12, drawCount: 1, texts: [{ "front": "長生", "back": "宮位" }, 
                                                            { "front": "沐浴", "back": "宮位" }, 
                                                            { "front": "冠帶", "back": "宮位" }, 
                                                            { "front": "臨官", "back": "宮位" },
                                                            { "front": "帝旺", "back": "宮位" }, 
                                                            { "front": "衰", "back": "宮位" }, 
                                                            { "front": "病", "back": "宮位" }, 
                                                            { "front": "死", "back": "宮位" },
                                                            { "front": "墓", "back": "宮位" }, 
                                                            { "front": "絕", "back": "宮位" }, 
                                                            { "front": "胎", "back": "宮位" }, 
                                                            { "front": "養", "back": "宮位" }
                                                            ]}
                ];

                // 初始化回合
                const initRound = () => {
                    // 判斷是否還有回合
                    if (currentRound.value < rounds.length) {
                        // 取得當前回合的數據
                        let round = rounds[currentRound.value];
                        // 清空 bottom 區塊
                        cards.value = cards.value.filter(card => card.location !== 'bottom');
                        // 隨機排列 texts
                        round.texts = shuffleArray(round.texts);
                        // 生成卡片
                        for (let i = 0; i < round.totalCards; i++) {
                            cards.value.push({
                                id: ++cardIndex.value, // 確保每張卡片的唯一 ID
                                number: i + 1, // 顯示的序號
                                isFlipped: true, // 是否顯示卡面
                                location: 'bottom', // 初始位置設為 bottom
                                frontText: round.texts[i].front, // 前面文字
                                backText: round.texts[i].back, // 背面文字
                                touchX: null, // 用於觸控移動的 X 坐標
                                touchY: null,  // 用於觸控移動的 Y 坐標
                                isDragging: false, // 是否正在拖曳
                                isClicked: false, // 是否選取
                                zIndex: 0, // z-index
                                card_back_background_image: round.card_back_background_image,
                                card_face_background_image: round.card_face_background_image
                            });
                        }

                        if ((currentRound.value + 1) != rounds.length) {
                            roundStatus.value = `第 ${currentRound.value + 1} 副牌：請選擇 ${round.drawCount} 張牌到12宮位任一區塊（可重疊）`;
                        }else{
                            roundStatus.value = `第 ${currentRound.value + 1} 副牌：請選擇 ${round.drawCount} 張牌挪至中間位子`;
                        }

                        draggedCount.value = 0; // 重設拖曳計數

                        area_grid_heigh.value = round.area_grid_heigh;
                    }
                };

                // 隨機排列數組的函數
                const shuffleArray = (array) => {
                    for (let i = array.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [array[i], array[j]] = [array[j], array[i]];
                    }
                    return array;
                };

                // 依據 box 取得卡片, 並根據 number 屬性排序, 以確保卡片的順序
                const cardsInBox = (box) => {
                    if (!cards.value) return [];
                    return cards.value.filter(card => card.location === box).sort((a, b) => a.number - b.number);
                };

                const flipCard = (card) => {
                    /*點擊顯示卡面*/
                    /*
                    card.isFlipped = !card.isFlipped;
                    if (card.isFlipped) {
                        card.zIndex = Math.max(...cards.value.map(c => c.zIndex || 0)) + 1;
                    } else {
                        card.zIndex = 0;
                    }
                    */
                };

                //用點擊區塊選取卡牌
                const boxClickSelectCard = (box) => {
                    //判斷問題描述填寫,是否已按確認
                    if(textareaContent.value.value == "" || !textareaContent.value.readOnly){
                        alert("請填寫問題內容後確定，確定完畢後抽牌");
                        return;
                    }

                    const cardNumber = prompt(`目前所在的宮位為「${locations[box]}」\n\n [${roundStatus.value}] \n\n 請輸入卡片號碼(1~${rounds[currentRound.value].totalCards})`);
                    if (cardNumber !== null) {
                        const card = cards.value.find(c => c.number === parseInt(cardNumber) && c.location === 'bottom' && c.frontText !== '');
                        if (card) {
                            draggingCard.value = card;
                            dropCard(box);
                        } else {
                            alert("找不到該卡片號碼");
                        }
                    }
                };

                const dragCard = (card) => {

                    if(!card.isClicked){
                        if(card.location === 'bottom'){
                            alert("請先選取卡片,再拖曳");
                        }   
                    }

                    //這拖曳控制,卡片內容不顯示
                    card.isDragging = true; // 設置拖曳狀態

                    // 拖曳時只能拖曳底部區域的卡片, 並且要選取狀態時才可拖曳
                    if (card.location === 'bottom' && card.isClicked && draggedCount.value < rounds[currentRound.value].drawCount) {
                        event.dataTransfer.dropEffect = 'move';
                        event.dataTransfer.setData('text/plain', card.id.toString());
                    }
                };

                const dragEndCard = (card) => {
                    card.isDragging = false; // 清除拖曳狀態
                    event.dataTransfer.clearData();
                };
                
                const dropCard = (box) => {
                    if (box === 'bottom') {
                        alert("不可將卡片丟到 bottom 區域");
                        return;
                    }

                    let card;
                    if (event.type === 'drop') {
                        const cardId = parseInt(event.dataTransfer.getData('text/plain'));
                        card = cards.value.find(card => card.id === cardId);
                    } else {
                        card = draggingCard.value;
                    }

                    if (card && card.location === 'bottom' && draggedCount.value < rounds[currentRound.value].drawCount) {

                        // 判斷是否在最後一回合，並且只能放到 center 區域
                        if (currentRound.value === rounds.length - 1 && box !== 'center') {
                            alert("最後一回合的卡片只能放在 center 區域");
                            return;
                        } else if (currentRound.value !== rounds.length - 1 && box === 'center') {
                            alert("只有最後一回合才能將卡片丟到 center 區域");
                            return;
                        }

                        // 在bottom區域新增透明卡片
                        let placeholderCard = {
                            id: ++cardIndex.value, // 新的唯一ID
                            number: card.number, // 使用原卡片的序號
                            isFlipped: true, // 透明卡片，始終為翻面狀態
                            location: 'bottom', // 保持在bottom區域
                            frontText: '', // 無文字
                            backText: '', // 無文字
                            isDragging: false,
                            isClicked: false,
                            zIndex: -1, // 保持在底層
                            opacity: 0, // 完全透明
                            card_back_background_image: card.card_back_background_image,
                            card_face_background_image: card.card_face_background_image
                        };
                        cards.value.push(placeholderCard); // 添加透明卡片到卡片陣列
                        
                        card.location = box; // 設置卡片的位置
                        card.isFlipped = false; // 拖曳後顯示卡面
                        card.isDragging = false; // 清除拖曳狀態
                        card.isClicked = false; // 拖曳後清除選取狀態
                        draggedCount.value++; // 增加拖曳計數
                        isClickedCount.value = 0; //拖曳後歸零
                        card.number = ++dropIndex.value; // 設置卡片的序號

                        // 檢查是否需要進入下一回合
                        if (draggedCount.value === rounds[currentRound.value].drawCount) {
                            if (currentRound.value + 1 < rounds.length) {
                                currentRound.value++;
                                initRound();
                            } else {
                                isExplorerNowVisible.value = true;
                                roundStatus.value = "抽排完畢囉~請耐心等候30~40分!";
                                setTimeout(() => alert("請耐心等候30~40分!"), 100); // 在最後一張卡片被移動後顯示提示

                                var ResponseJson = cards.value
                                                    .filter(item => item.isFlipped === false)
                                                    .map(item => {
                                                        return {
                                                            "number": item.number,
                                                            "location": item.location,
                                                            "location_name": locations[item.location],
                                                            "frontText": item.frontText,
                                                            "backText": item.backText,
                                                        }
                                                    }).sort((a, b) => a.number - b.number);

                                addOperation(ResponseJson);

                                //console.log(JSON.stringify(ResponseJson));
                            }
                        }
                    }
                };

                const cardStyle = (card, index, box) => { //卡片正面
                    const aspectRatio = 2 / 3; // 卡片比例 2:3
                    const boxHeight = 100; // 固定高度
                    const cardHeight = boxHeight - 4; // 扣除邊框的寬度
                    const cardWidth = cardHeight * aspectRatio;

                    const offset = box === 'bottom' ? index * (cardWidth + 10) : index * 10; // 底部區塊與其他區塊的偏移

                    const style = {
                        position: 'relative',
                        margin: '0 5px', // 卡片之間的空隙
                        width: `${cardWidth}px`,
                        height: `${cardHeight}px`,
                        zIndex: card.zIndex || 0 // 根據 zIndex 設定疊加順序
                    };

                    if (card.isDragging) {
                        style.position = 'absolute'; // 使用絕對定位
                        style.left = `${card.touchX}px`;
                        style.top = `${card.touchY}px`;
                    }

                    return style;
                };

                const bottomCardStyle = (card, index) => { //卡片背面
                    const aspectRatio = 2 / 3; // 卡片比例 2:3
                    const boxHeight = 100; // 固定高度
                    const cardHeight = boxHeight - 4; // 扣除邊框的寬度
                    const cardWidth = cardHeight * aspectRatio;

                    return {
                        position: 'relative',
                        margin: '0 3px', // 卡片之間的空隙
                        width: `${cardWidth}px`,
                        height: `${cardHeight}px`,
                        zIndex: card.zIndex || 0, // 根據 zIndex 設定疊加順序
                        transform: card.isClicked ? 'translateY(-10px)' : 'translateY(0)', // 根據 isClicked 屬性設置位移
                        opacity: card.opacity // 根據 opacity 設定透明度
                    };
                };

                const cardBgStyle = (card, side) => {
                    return {
                        backgroundImage: `url(${side === "front" ? card.card_face_background_image : card.card_back_background_image})`,
                        backgroundSize: 'cover',
                        backgroundPosition: 'center',
                        backgroundRepeat: 'no-repeat'
                    };
                };

                //點擊卡片
                const clickCard = (card) => {                

                    //判斷問題描述填寫,是否已按確認
                    if(textareaContent.value.value == "" || !textareaContent.value.readOnly){
                        alert("請填寫問題內容後確定，確定完畢後抽牌");
                        return;
                    }

                    //一次只能有一張彈出
                    if(isClickedCount.value != 0){
                        if(card.isClicked){
                            isClickedCount.value = 0;
                        }else{
                            return;
                        }
                    }else{
                        isClickedCount.value += 1;
                    }

                    //console.log('isClickedCount:' + isClickedCount.value);

                    card.isClicked = !card.isClicked;
                };

                const dragOver = (box) => {
                    if (box === 'bottom' ||
                        (currentRound.value === rounds.length - 1 && box !== 'center') ||
                        (currentRound.value !== rounds.length - 1 && box === 'center')) {
                        event.dataTransfer.dropEffect = 'none';
                        event.target.classList.add('forbidden-drop');
                    } else {
                        event.dataTransfer.dropEffect = 'move';
                        event.target.classList.remove('forbidden-drop');
                    }
                };

                const SubmitText = () => {
                    let text = textareaContent.value.value;
                    //如有文字則將輸入框readonly
                    if(text != ""){
                        textareaContent.value.readOnly = true;
                        //要呈現不給輸入的 style
                        textareaContent.value.style.backgroundColor = "#E0E0E0";

                        selectSubject.value.disabled = true;
                        selectSubject.value.style.backgroundColor = "#E0E0E0";
                    }else{
                        alert("請填寫問題描述");
                    }
                };

                const ModifySubmitText = () => {
                    textareaContent.value.readOnly = false;
                    textareaContent.value.style.backgroundColor = "#FFFFFF";

                    selectSubject.value.disabled = false;
                    selectSubject.value.style.backgroundColor = "#FFFFFF";
                };

                /* 匯出本次操作紀錄為 JSON 檔案 */
                const explorerNow = () => {
                    exportDatabase(sessionKey.value);
                };

                //重新整理畫面
                const refreshPage = () => {
                    location.reload();
                };

                /* 資料庫 */
                const db = ref(null);
                const operations = ref([]);
                const content = ref('');
                const sessionKey = ref('');
                const retentionDays = ref(7);

                const openDatabase = () => {
                    let request = indexedDB.open('OperationsDB', 1);

                    request.onupgradeneeded = function(event) {
                        db.value = event.target.result;
                        if (!db.value.objectStoreNames.contains('Records')) {
                            db.value.createObjectStore('Records', { keyPath: 'sessionKey' });
                        }
                    };

                    request.onsuccess = function(event) {
                        db.value = event.target.result;
                        console.log('資料庫開啟成功');
                        generateSessionKey();  // 產生新的 session key
                        deleteOldRecords();
                    };

                    request.onerror = function(event) {
                        console.error('資料庫錯誤: ' + event.target.errorCode);
                    };
                };

                // 生成新的 session key
                const generateSessionKey = () => {
                    let transaction = db.value.transaction(['Records'], 'readonly');
                    let objectStore = transaction.objectStore('Records');

                    let today = new Date();
                    let yyyyMMdd = today.toISOString().slice(0, 10).replace(/-/g, '');
                    let prefix = yyyyMMdd;
                    let maxIndex = 0;

                    objectStore.openCursor().onsuccess = function(event) {
                        let cursor = event.target.result;
                        if (cursor) {
                            let key = cursor.key;
                            if (key.startsWith(prefix)) {
                                let index = parseInt(key.slice(-4));
                                if (index > maxIndex) {
                                    maxIndex = index;
                                }
                            }
                            cursor.continue();
                        } else {
                            let newIndex = (maxIndex + 1).toString().padStart(4, '0');
                            sessionKey.value = `${prefix}${newIndex}`;
                            //console.log('新的 session key:', sessionKey.value);
                        }
                    };

                    objectStore.openCursor().onerror = function(event) {
                        console.error('生成 session key 錯誤: ' + event.target.errorCode);
                    };
                };

                const addOperation = (data) => {
                    let transaction = db.value.transaction(['Records'], 'readwrite');
                    let objectStore = transaction.objectStore('Records');
                    let getRequest = objectStore.get(sessionKey.value);

                    getRequest.onsuccess = function(event) {
                        let sessionData = event.target.result || 
                        { 
                            sessionKey: sessionKey.value, 
                            content: textareaContent.value.value,
                            subject: selectSubject.value.value,
                            gender:gender.value,
                            cus_name:cus_name.value,
                            operations: [] 
                        };

                        let newOperation = {
                            cards: data,
                            timestamp: new Date().toISOString()
                        };
                        sessionData.operations.push(newOperation);

                        let putRequest = objectStore.put(sessionData);

                        putRequest.onsuccess = function(event) {
                            console.log('操作記錄新增成功');
                        };

                        putRequest.onerror = function(event) {
                            console.error('新增操作記錄錯誤: ' + event.target.errorCode);
                        };
                    };

                    getRequest.onerror = function(event) {
                        console.error('獲取 session 資料錯誤: ' + event.target.errorCode);
                    };
                };

                // 清除資料庫
                const clearDatabase = () => {
                    let transaction = db.value.transaction(['Records'], 'readwrite');
                    let objectStore = transaction.objectStore('Records');
                    let clearRequest = objectStore.clear();

                    clearRequest.onsuccess = function(event) {
                        console.log('所有操作記錄已清除');
                    };

                    clearRequest.onerror = function(event) {
                        console.error('清除操作記錄錯誤: ' + event.target.errorCode);
                    };
                };

                const deleteOldRecords = () => {
                    let transaction = db.value.transaction(['Records'], 'readwrite');
                    let objectStore = transaction.objectStore('Records');
                    let currentDate = new Date();

                    objectStore.openCursor().onsuccess = function(event) {
                        let cursor = event.target.result;
                        if (cursor) {
                            let recordDate = new Date(cursor.value.sessionKey);
                            let ageInDays = (currentDate - recordDate) / (1000 * 60 * 60 * 24);
                            if (ageInDays > retentionDays.value) {
                                let deleteRequest = cursor.delete();

                                deleteRequest.onsuccess = function() {
                                    console.log('已刪除過期記錄', cursor.value.sessionKey);
                                };

                                deleteRequest.onerror = function(event) {
                                    console.error('刪除記錄錯誤: ' + event.target.errorCode);
                                };
                            }
                            cursor.continue();
                        }
                    };

                    objectStore.openCursor().onerror = function(event) {
                        console.error('檢查過期記錄錯誤: ' + event.target.errorCode);
                    };
                };

                const exportDatabase = (key) => {
                    let transaction = db.value.transaction(['Records'], 'readonly');
                    let objectStore = transaction.objectStore('Records');
                    let allRecords = [];

                    objectStore.openCursor().onsuccess = function(event) {
                        let cursor = event.target.result;
                        if (cursor) {
                            //如果有key值,則只匯出該key值的資料
                            if(key != ""){
                                if(cursor.value.sessionKey == key){
                                    allRecords.push(cursor.value);
                                }
                            }else{
                                allRecords.push(cursor.value);
                            }
                            cursor.continue();
                        } else {
                            let dataStr = JSON.stringify(allRecords, null, 2);
                            let dataBlob = new Blob([dataStr], { type: 'application/json' });
                            let url = URL.createObjectURL(dataBlob);

                            let fileName = `${key}_${selectSubject.value.value}_${gender.value}_${cus_name.value}.json`;
                            let link = document.createElement('a');
                            link.href = url;
                            link.download = fileName;
                            document.body.appendChild(link);
                            link.click();
                            document.body.removeChild(link);

                            console.log('匯出完成');
                        }
                    };

                    objectStore.openCursor().onerror = function(event) {
                        console.error('匯出錯誤: ' + event.target.errorCode);
                    };
                };

                const currentTime = ref("");

                // 定義函數來更新時間
                const updateTime = () => {
                    const now = new Date();
                    // 使用 Intl.DateTimeFormat 來獲取特定時區（GMT+8）的時間
                    const options = {
                        timeZone: 'Asia/Taipei', // GMT+8 時區，對應台北
                        hour12: false, // 使用 24 小時制
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit'
                    };
                    const formatter = new Intl.DateTimeFormat('zh-tw', options);
                    currentTime.value = formatter.format(now);
                };

                // Vue 的生命周期鉤子，用於初始化和清除定時器
                onMounted(() => {
                    openDatabase();
                    initRound();

                    updateTime(); // 初始化顯示時間
                    const intervalId = setInterval(updateTime, 1000); // 每秒更新時間

                    // 保存 intervalId 以便後續清除
                    onUnmounted(() => {
                        clearInterval(intervalId); // 組件卸載時清除定時器
                    });
                });

                return {
                    cards,
                    cardsInBox,
                    flipCard,
                    dragCard,
                    dropCard,
                    cardStyle,
                    bottomCardStyle,
                    roundStatus,
                    dragEndCard,
                    clickCard,
                    dragOver,
                    SubmitText,
                    ModifySubmitText, 
                    exportDatabase,
                    clearDatabase,
                    cardBgStyle,
                    explorerNow,
                    refreshPage,
                    isExplorerNowVisible,
                    selectSubject,
                    textareaContent,
                    gender,
                    cus_name,
                    area_grid_heigh,
                    boxClickSelectCard,
                    currentTime
                };
            }
        }).mount('#app');
    </script>
</body>
</html>